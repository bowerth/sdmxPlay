@(sd: SdmxData)
@import java.util._

<!DOCTYPE html>

<html>
  <meta charset="UTF-8">
  <meta name=viewport content="width=device-width, initial-scale=1">
  <head>
    <title>Timeseries for @sd.provider Provider - @sd.query</title>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <!-- <script src="@routes.Assets.at("javascripts/highcharts/highcharts.js")" type="text/javascript"></script> -->
    <!-- <script src="@routes.Assets.at("javascripts/highcharts/modules/exporting.js")" type="text/javascript"></script> -->
    <!-- https://github.com/danvk/dygraphs/blob/master/dygraph-dev.js -->
    <script src="@routes.Assets.at("javascripts/dygraph/dygraph-combined.js")" type="text/javascript"></script>
    <!-- jQuery configuration -->
    <script src="@routes.Assets.at("javascripts/custom/btnconfig.js")" type="text/javascript"></script>
    <!-- custom charts -->
    <!-- <script src="@routes.Assets.at("javascripts/custom/linechart.js")" type="text/javascript"></script> -->
    <!-- <script src="@routes.Assets.at("javascripts/custom/dygraphchart.js")" type="text/javascript"></script> -->

  </head>
  <body>
    <br>
    <div class="container">
      <div class="panel panel-info">
	<div class="panel panel-heading">
          <h3 class="panel-title">@sd.provider Provider contacted with query @sd.query</h3>
	</div>
	<div class="panel-body">
          @if( sd.start == "NA" ) {
          <div class="alert alert-danger" role="alert">
            Invalid query or data not found.
          </div>          
          } else {
          <!-- 
          <div class="col-sm-12">
            <img src="svg" alt="Plot @sd.provider - @sd.query" style="max-width:100%; min-width=50%"/>
          </div>
          -->
          <div id="graphdiv" style="width:100%; height:300px;"></div>
          }

          <!-- <div class="col-sm-12"> -->
          <!--   <form class="form-horizontal"> -->
          <!--     <div class="form-group"> -->
	  <!-- 	<label for="inputMax" class="col-sm-2 control-label">Start</label> -->
	  <!-- 	<div class="col-sm-4"> -->
	  <!-- 	  <\!-- value="[at] sd . timerange" readonly /> -\-> -->
          <!--         <input class="form-control" type="text" id="inputMax" -->
	  <!-- 		 value="@sd.start" readonly /> -->
	  <!-- 	</div> -->
          <!--     </div> -->
          <!--     <div class="form-group"> -->
	  <!-- 	<label for="inputMin" class="col-sm-2 control-label">End</label> -->
	  <!-- 	<div class="col-sm-4"> -->
 	  <!-- 	  <\!-- value="[at] sd . nseries" readonly /> -\-> -->
          <!--         <input class="form-control" type="text" id="inputMin" -->
	  <!-- 		 value="@sd.end" readonly /> -->
	  <!-- 	</div> -->
          <!--     </div> -->
          <!--   </form> -->
          <!-- </div> -->

	</div>
      </div>

      <div class="col-sm-12">
        <form class="form-horizontal">
          <form class="form-inline">
	    <!-- <div class="col-sm-12 form-group"> -->
	  <div class="form-group">
            <label for="inputQuery">Query</label>
            <!-- <label for="inputQuery" class="col-sm-2 control-label">Query</label> -->
	    <!-- <div class="col-sm-10"> -->
              <!-- <input type="text" class="col-sm-10 form-control" id="inputQuery" value="@sd.query"/> -->
              <input type="text" class="form-control" id="inputQuery" value="@sd.query"/>
	    <!-- </div> -->
	  </div>      
	</form>
      </div>

	<div class="form-inline">
	<div class="form-group">
          <label for="inputProvider">Provider Code</label>
          <input type="text" class="form-control" id="inputProvider" value="@sd.provider"/>
	</div>
	&nbsp;&nbsp;&nbsp;
	<!-- <div class="form-group"> -->
        <!--   <label for="inputQuery">Query</label> -->
        <!--   <input type="text" class="form-control" id="inputQuery" value="@sd.query"/> -->
	<!-- </div>       -->
	<!-- &nbsp;&nbsp;&nbsp; -->
	<div class="form-group">
          <label for="inputStart">Start</label>
          <input type="number" class="form-control" id="inputStart" value="@sd.start" min="1900" max="@Calendar.getInstance().get(Calendar.YEAR)"/>
	</div>      
	&nbsp;&nbsp;&nbsp;
	<div class="form-group">
          <label for="inputEnd">End</label>
          <input type="number" class="form-control" id="inputEnd" value="@sd.end" min="1900" max="@Calendar.getInstance().get(Calendar.YEAR)"/>
	</div>      
	&nbsp;&nbsp;&nbsp;&nbsp;
	<div class="form-group">
          <button type="submit" class="btn btn-info" id="btnSubmitSdmx">Submit</button>
	</div>
      </div>

    </div>

    <script type="text/javascript">
      g = new Dygraph(
      // containing div
      document.getElementById("graphdiv"),
      // "@routes.Assets.at("data/sdmx/tsdata.csv")"
      "@sd.output"
    );
    </script>

  </body>
</html>

